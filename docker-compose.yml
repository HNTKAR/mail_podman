version: '3.7'

services:
  MAIL:
    build:
      context: .
      args:
        SSL_DOMAIN: mail.example.com
        virtual_DOMAIN: mail.example.com,mail.example.org
        alias_DOMAIN: example.com,example.org
    environment: 
      - relay=on
    image: mail
    container_name: MAIL
    restart: always
    ports:
      - "25:25"
      - "465:465"
      - "587:587"
      - "993:993"
      - "995:995"
    volumes:
      - /etc/letsencrypt:/etc/letsencrypt:ro
      - /home/docker_home/mail:/home/mailer
      - /var/log/docker_log/mail:/var/log

networks:
  default:
    external:
      name: default_bridge
